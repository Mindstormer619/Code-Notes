# 2023-10-18 Wed

## Log

[[ScyllaDB P99 Conf]]
+ Quantifying the Performance Impact of Shard-per-core Architecture
	+ speeding up networking in linux
	+ shards per core architecture
		+ ![[Pasted image 20231018211825.png]]
		+ traditional stacks suffer lock contention, cache contention, NUMA unfriendly
	+ scale up before you scale out
		+ why? more machines means more maintenance, for upgrades etc. more container overhead etc.
	+ ~~"Nodes must be small, in case they fail"~~
		+ doesn't!
		+ takes constant time to replace/add/remove a node
+ Jon Haddad: Distributed System Performance Troubleshooting Like You've Been Doing It for 20 Years
	+ seeing a performance problem
		+ Don't panic!
		+ don't just blame (the database)
			+ don't rush to conclusions
	+ methodology
		+ rethink assumptions
		+ ask the right questions
			+ don't go with vague questions like "is it slow?"
			+ ask specifics, e.g. p50, p99.
			+ what does the latency measure exactly
			+ ask if anything else in the env changed
			+ is it on a subset of the machines?
		+ narrow down the source
		+ think about the bigger picture
			+ e.g. don't blame a single microservice
		+ have high observability
			+ distributed tracing (Dapper)
			+ alternatives: OpenTelemetry, 

## Appendix
